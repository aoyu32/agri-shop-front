// 搜索结果数据
export const searchResults = [
  {
    id: 1,
    name: '烟台红富士苹果 新鲜水果脆甜多汁 产地直发 5斤装',
    image: 'https://images.unsplash.com/photo-1619566636858-adf3ef46400b?w=400',
    description: '烟台红富士苹果，脆甜多汁，果香浓郁，精选优质果品，5斤装全国包邮',
    tags: ['精品', '包邮', '新鲜直达'],
    price: '39.9',
    unit: '5斤',
    sales: 1280,
    stock: 500,
    origin: '山东',
    category: '水果',
    rating: 4.8
  },
  {
    id: 2,
    name: '海南金煌芒果 当季新鲜大芒果 香甜软糯 顺丰包邮',
    image: 'https://images.unsplash.com/photo-1601493700631-2b16ec4b4716?w=400',
    description: '海南金煌芒果，果肉细腻香甜，口感极佳，3斤大果装顺丰包邮',
    tags: ['当季', '顺丰包邮', '坏果包赔'],
    price: '59.9',
    unit: '3斤',
    sales: 856,
    stock: 300,
    origin: '海南',
    category: '水果',
    rating: 4.9
  },
  {
    id: 3,
    name: '新疆阿克苏苹果 正宗冰糖心 脆甜爽口 产地直供 10斤礼盒装',
    image: 'https://images.unsplash.com/photo-1560806887-1e4cd0b6cbd6?w=400',
    description: '新疆阿克苏冰糖心苹果，自然冰糖心，甜度高达18度，产地直发',
    tags: ['冰糖心', '包邮', '产地直发'],
    price: '49.9',
    unit: '10斤',
    sales: 2156,
    stock: 800,
    origin: '新疆',
    category: '水果',
    rating: 4.7
  },
  {
    id: 4,
    name: '智利进口车厘子JJ级 新鲜大樱桃 果径28-30mm 冷链直达',
    image: 'https://images.unsplash.com/photo-1568702846914-96b305d2aaeb?w=400',
    description: '智利进口JJ级车厘子，果大肉厚，口感极佳，冷链直达保证新鲜',
    tags: ['进口', '限时5折', '冷链直达'],
    price: '89.9',
    unit: '2斤',
    sales: 645,
    stock: 200,
    origin: '智利',
    category: '水果',
    rating: 4.6
  },
  {
    id: 5,
    name: '云南沃柑橘子 当季新鲜水果 皮薄多汁 买2送1 包邮到家',
    image: 'https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?w=400&h=400&fit=crop',
    description: '云南沃柑橘子，皮薄多汁，酸甜适中，维C含量高，买2送1优惠',
    tags: ['促销', '买2送1', '包邮'],
    price: '29.9',
    unit: '5斤',
    sales: 1523,
    stock: 600,
    origin: '云南',
    category: '水果',
    rating: 4.8
  },
  {
    id: 6,
    name: '山东烟台大樱桃 新鲜现摘 果大肉厚 顺丰冷链包邮',
    image: 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400',
    description: '山东烟台大樱桃，果实饱满，色泽鲜艳，口感极佳，限量抢购',
    tags: ['限量', '抢购', '顺丰包邮'],
    price: '79.9',
    unit: '2斤',
    sales: 432,
    stock: 150,
    origin: '山东',
    category: '水果',
    rating: 4.9
  },
  {
    id: 7,
    name: '陕西眉县猕猴桃 绿心奇异果 酸甜可口 营养丰富 5斤装',
    image: 'https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?w=400',
    description: '陕西眉县猕猴桃，维C之王，酸甜可口，营养丰富，特价促销中',
    tags: ['特价', '包邮', '新鲜采摘'],
    price: '34.9',
    unit: '5斤',
    sales: 987,
    stock: 400,
    origin: '陕西',
    category: '水果',
    rating: 4.7
  },
  {
    id: 8,
    name: '福建平和蜜柚 红心柚子 果肉饱满 清甜多汁 4个装',
    image: 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=400&fit=crop',
    description: '福建平和蜜柚，果肉饱满，汁多味甜，清火润肺，4个装包邮',
    tags: ['精品', '包邮', '产地直发'],
    price: '39.9',
    unit: '4个',
    sales: 756,
    stock: 350,
    origin: '福建',
    category: '水果',
    rating: 4.8
  },
  {
    id: 9,
    name: '广西沙糖桔 皮薄无籽 甜度高 口感细腻 5斤装全国包邮',
    image: 'https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?w=400',
    description: '广西沙糖桔，皮薄无籽，甜度高，口感细腻，5斤装全国包邮',
    tags: ['无籽', '包邮', '甜度高'],
    price: '24.9',
    unit: '5斤',
    sales: 1834,
    stock: 700,
    origin: '广西',
    category: '水果',
    rating: 4.6
  },
  {
    id: 10,
    name: '河北鸭梨 新鲜水果 汁多味甜 清脆爽口 10斤装',
    image: 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400',
    description: '河北鸭梨，汁多味甜，清脆爽口，润肺止咳，10斤装包邮',
    tags: ['清脆', '包邮', '润肺'],
    price: '32.9',
    unit: '10斤',
    sales: 654,
    stock: 450,
    origin: '河北',
    category: '水果',
    rating: 4.5
  },
  {
    id: 11,
    name: '山东大白菜 新鲜蔬菜 脆嫩多汁 农家直供 5斤装',
    image: 'https://images.unsplash.com/photo-1518977676601-b53f82aba655?w=400',
    description: '山东大白菜，脆嫩多汁，营养丰富，农家直供，新鲜采摘',
    tags: ['新鲜', '农家', '营养'],
    price: '12.9',
    unit: '5斤',
    sales: 2345,
    stock: 1000,
    origin: '山东',
    category: '蔬菜',
    rating: 4.7
  },
  {
    id: 12,
    name: '河南萝卜 白萝卜 新鲜蔬菜 清甜爽脆 3斤装',
    image: 'https://images.unsplash.com/photo-1518977676601-b53f82aba655?w=400',
    description: '河南白萝卜，清甜爽脆，营养丰富，适合炖汤煮粥，3斤装',
    tags: ['清甜', '营养', '炖汤'],
    price: '8.9',
    unit: '3斤',
    sales: 1876,
    stock: 800,
    origin: '河南',
    category: '蔬菜',
    rating: 4.6
  },
  {
    id: 13,
    name: '新疆大米 优质长粒香米 口感香甜 营养丰富 10斤装',
    image: 'https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400',
    description: '新疆优质长粒香米，口感香甜，营养丰富，粒粒饱满，10斤装',
    tags: ['优质', '香甜', '营养'],
    price: '45.9',
    unit: '10斤',
    sales: 3456,
    stock: 1200,
    origin: '新疆',
    category: '粮食',
    rating: 4.9
  },
  {
    id: 14,
    name: '东北黑米 有机杂粮 营养丰富 补血养颜 2斤装',
    image: 'https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400',
    description: '东北有机黑米，营养丰富，补血养颜，口感香糯，2斤装',
    tags: ['有机', '补血', '养颜'],
    price: '28.9',
    unit: '2斤',
    sales: 987,
    stock: 400,
    origin: '东北',
    category: '粮食',
    rating: 4.8
  },
  {
    id: 15,
    name: '山东花生 新鲜花生米 香脆可口 营养丰富 3斤装',
    image: 'https://images.unsplash.com/photo-1553909489-cd47e0ef937f?w=400',
    description: '山东新鲜花生米，香脆可口，营养丰富，适合煮粥炒菜，3斤装',
    tags: ['香脆', '营养', '新鲜'],
    price: '18.9',
    unit: '3斤',
    sales: 1234,
    stock: 600,
    origin: '山东',
    category: '坚果',
    rating: 4.7
  },
  {
    id: 16,
    name: '新疆核桃 薄皮核桃 香脆可口 营养丰富 2斤装',
    image: 'https://images.unsplash.com/photo-1553909489-cd47e0ef937f?w=400',
    description: '新疆薄皮核桃，香脆可口，营养丰富，补脑益智，2斤装',
    tags: ['薄皮', '补脑', '营养'],
    price: '35.9',
    unit: '2斤',
    sales: 876,
    stock: 300,
    origin: '新疆',
    category: '坚果',
    rating: 4.8
  },
  {
    id: 17,
    name: '散养土鸡蛋 农家散养 营养丰富 新鲜直供 30枚装',
    image: 'https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=400',
    description: '农家散养土鸡蛋，营养丰富，蛋黄饱满，新鲜直供，30枚装',
    tags: ['散养', '营养', '新鲜'],
    price: '42.9',
    unit: '30枚',
    sales: 2134,
    stock: 500,
    origin: '河北',
    category: '肉禽蛋',
    rating: 4.9
  },
  {
    id: 18,
    name: '优质猪肉 新鲜五花肉 肥瘦相间 口感鲜美 2斤装',
    image: 'https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=400',
    description: '优质五花肉，肥瘦相间，口感鲜美，适合红烧炖煮，2斤装',
    tags: ['优质', '新鲜', '鲜美'],
    price: '56.9',
    unit: '2斤',
    sales: 1567,
    stock: 200,
    origin: '山东',
    category: '肉禽蛋',
    rating: 4.7
  },
  {
    id: 19,
    name: '福建铁观音 高山茶叶 香气浓郁 回甘甜美 250g装',
    image: 'https://images.unsplash.com/photo-1544787219-7f47ccb76574?w=400',
    description: '福建高山铁观音，香气浓郁，回甘甜美，茶汤清澈，250g装',
    tags: ['高山', '浓郁', '回甘'],
    price: '89.9',
    unit: '250g',
    sales: 654,
    stock: 150,
    origin: '福建',
    category: '茶叶',
    rating: 4.8
  },
  {
    id: 20,
    name: '云南普洱茶 陈年老茶 醇厚甘甜 养胃护胃 357g饼',
    image: 'https://images.unsplash.com/photo-1544787219-7f47ccb76574?w=400',
    description: '云南陈年普洱茶，醇厚甘甜，养胃护胃，茶香持久，357g饼装',
    tags: ['陈年', '醇厚', '养胃'],
    price: '128.9',
    unit: '357g',
    sales: 432,
    stock: 100,
    origin: '云南',
    category: '茶叶',
    rating: 4.9
  }
]

// 热门搜索关键词
export const hotSearchKeywords = [
  '苹果', '芒果', '车厘子', '橘子', '樱桃', 
  '白菜', '萝卜', '土豆', '西红柿', '黄瓜',
  '大米', '小米', '黑米', '花生', '核桃',
  '鸡蛋', '猪肉', '牛肉', '铁观音', '普洱茶'
]

// 搜索建议（根据输入动态匹配）
export const getSearchSuggestions = (keyword) => {
  if (!keyword) return []
  
  const suggestions = []
  
  // 从商品名称中匹配
  searchResults.forEach(item => {
    if (item.name.includes(keyword) && suggestions.length < 8) {
      suggestions.push({
        type: 'product',
        text: item.name,
        keyword: keyword
      })
    }
  })
  
  // 从热门关键词中匹配
  hotSearchKeywords.forEach(hot => {
    if (hot.includes(keyword) && suggestions.length < 8) {
      suggestions.push({
        type: 'keyword',
        text: hot,
        keyword: keyword
      })
    }
  })
  
  return suggestions
}

// 模拟搜索API
export const searchProducts = (params) => {
  const {
    keyword = '',
    category = '',
    priceRange = null,
    origin = '',
    sortBy = 'default',
    page = 1,
    pageSize = 20
  } = params
  
  let results = [...searchResults]
  
  // 关键词搜索
  if (keyword) {
    results = results.filter(item => 
      item.name.includes(keyword) || 
      item.description.includes(keyword) ||
      item.tags.some(tag => tag.includes(keyword))
    )
  }
  
  // 分类筛选
  if (category) {
    results = results.filter(item => item.category === category)
  }
  
  // 价格筛选
  if (priceRange) {
    results = results.filter(item => {
      const price = parseFloat(item.price)
      if (priceRange.max === null) {
        return price >= priceRange.min
      }
      return price >= priceRange.min && price <= priceRange.max
    })
  }
  
  // 产地筛选
  if (origin) {
    results = results.filter(item => item.origin === origin)
  }
  
  // 排序
  switch (sortBy) {
    case 'sales':
      results.sort((a, b) => b.sales - a.sales)
      break
    case 'price_asc':
      results.sort((a, b) => parseFloat(a.price) - parseFloat(b.price))
      break
    case 'price_desc':
      results.sort((a, b) => parseFloat(b.price) - parseFloat(a.price))
      break
    case 'rating':
      results.sort((a, b) => b.rating - a.rating)
      break
    case 'newest':
      // 模拟按时间排序，这里按ID倒序
      results.sort((a, b) => b.id - a.id)
      break
    default:
      // 综合排序：销量 * 评分
      results.sort((a, b) => (b.sales * b.rating) - (a.sales * a.rating))
  }
  
  // 分页
  const total = results.length
  const start = (page - 1) * pageSize
  const end = start + pageSize
  const pageResults = results.slice(start, end)
  
  return {
    results: pageResults,
    total,
    page,
    pageSize,
    totalPages: Math.ceil(total / pageSize)
  }
}